/**
 * HudFrame Library Skin - SKEUOMORPHIC Gilt Picture Frame
 * A museum-quality frame from a private collection
 *
 * Aesthetic: Christie's gallery, Victorian scientific instruments, Winamp skins
 * Think: Real mahogany wood grain, polished brass bevels, glass dome over content
 *
 * SKEUOMORPHIC FEATURES:
 * - Visible wood grain texture (not just brown)
 * - 3D brass bezel with proper highlight/shadow bevels
 * - Engraved text on brass plaques
 * - Glass cover effect over content
 * - Raised brass corner brackets with screws
 */

@import '../../skins/library-base.css';

/* ============================================
   LIBRARY TOKENS
   ============================================ */
[data-skin="library"] {
  /* Frame wood - using shared palette */
  --frame-wood: var(--lib-wood-mahogany);
  --frame-wood-light: var(--lib-wood-mahogany-light);
  --frame-wood-dark: var(--lib-wood-mahogany-dark);

  /* Brass - using shared palette */
  --frame-gilt: var(--lib-gold);
  --frame-gilt-light: var(--lib-gold-highlight);
  --frame-gilt-deep: var(--lib-gold-deep);
  --frame-gilt-shadow: var(--lib-gold-shadow);

  /* Inner mat - dark velvet lining */
  --frame-mat: var(--lib-cream);
  --frame-mat-shadow: var(--lib-cream-warm);

  /* Content canvas */
  --frame-canvas: var(--lib-vellum);

  /* Plaque text - dark for engraved effect */
  --frame-plaque-text: #2A1F15;
  --frame-ink: var(--lib-ink);
  --frame-ink-soft: var(--lib-ink-soft);

  /* Corner ornament offset */
  --hud-reticle-offset: 0;

  /* Animation */
  --frame-duration: var(--lib-duration);
  --frame-ease: var(--lib-ease);
}

/* ============================================
   FRAME CONTAINER - OUTER GLOW
   ============================================ */
[data-skin="library"] .hud-frame {
  /* Museum lighting - soft overhead with warm ambient */
  filter: drop-shadow(0 6px 16px rgba(0, 0, 0, 0.25))
          drop-shadow(0 12px 32px rgba(46, 26, 24, 0.2));
  transition: filter var(--frame-duration) var(--frame-ease);
}

[data-skin="library"] .hud-frame:hover {
  filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.3))
          drop-shadow(0 16px 40px rgba(46, 26, 24, 0.25))
          drop-shadow(0 0 25px rgba(201, 162, 39, 0.12));
}

/* ============================================
   FRAME BODY - DRAMATICALLY VISIBLE SKEUOMORPHISM
   Real layered wood frame with brass inlay
   ============================================ */
[data-skin="library"] .hud-frame__body {
  clip-path: none;
  position: relative;
  border-radius: 6px;

  /* Dark interior base */
  background: var(--frame-canvas);

  /* NO border-image (doesn't work with border-radius) */
  /* Instead use padding + layered shadows for the frame effect */
  border: none;
  padding: 28px;

  /*
   * ANTIQUE PICTURE FRAME
   * Warm aged wood with tarnished brass fillet
   * Like something from a Victorian gentleman's study
   */
  box-shadow:
    /* ═══ CONTENT CAVITY - recessed area ═══ */
    inset 0 5px 10px rgba(0, 0, 0, 0.5),
    inset 5px 0 8px rgba(0, 0, 0, 0.35),

    /* ═══ AGED BRASS FILLET ═══ */
    /* Muted, tarnished brass - NOT bright gold */
    inset 0 0 0 5px #1A1612,
    inset 0 0 0 7px #4A3A15,       /* Dark tarnished edge */
    inset 0 0 0 10px #8B7028,      /* Aged brass - muted */
    inset 0 0 0 12px #A08838,      /* Slightly lighter */

    /* Subtle brass depth - NOT bright highlights */
    inset 6px 6px 0 5px rgba(160, 136, 56, 0.3),
    inset -6px -6px 0 5px rgba(40, 30, 10, 0.4),

    /* ═══ MAHOGANY WOOD FRAME ═══ */
    /* Warm reddish-brown, aged wood */
    inset 0 0 0 14px #3D2218,      /* Inner edge */
    inset 0 0 0 18px #5C3830,      /* Rich mahogany */
    inset 0 0 0 22px #6B4438,      /* Warm wood tone */
    inset 0 0 0 28px #4A2E24,      /* Outer edge */

    /* Wood has subtle warmth, not harsh contrast */
    inset 16px 16px 0 12px rgba(140, 90, 70, 0.2),
    inset -14px -14px 0 12px rgba(20, 10, 8, 0.35),

    /* ═══ OUTER AGED BRASS TRIM ═══ */
    0 0 0 1px #3A2A10,
    0 0 0 3px #8B7028,

    /* ═══ SOFT SHADOWS ═══ */
    4px 6px 12px rgba(30, 20, 15, 0.4),
    8px 12px 24px rgba(25, 15, 10, 0.3);

  transition: box-shadow var(--frame-duration) var(--frame-ease);
}

/* VISIBLE WOOD GRAIN TEXTURE OVERLAY */
[data-skin="library"] .hud-frame__body::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 1;

  /*
   * DRAMATIC VISIBLE WOOD GRAIN
   * Much darker/more visible lines for obvious texture
   */
  background:
    /* Primary grain - BOLD dark lines */
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 3px,
      rgba(15, 8, 4, 0.5) 3px,
      rgba(15, 8, 4, 0.5) 4.5px,
      transparent 4.5px,
      transparent 10px,
      rgba(25, 12, 6, 0.35) 10px,
      rgba(25, 12, 6, 0.35) 11.5px
    ),
    /* Secondary grain - angled variation */
    repeating-linear-gradient(
      3deg,
      transparent 0px,
      transparent 18px,
      rgba(60, 35, 20, 0.25) 18px,
      rgba(60, 35, 20, 0.25) 21px,
      transparent 21px,
      transparent 32px
    ),
    /* Wood knots - darker spots */
    radial-gradient(ellipse 25px 50px at 15% 25%, rgba(20, 10, 5, 0.35) 0%, transparent 65%),
    radial-gradient(ellipse 35px 18px at 85% 75%, rgba(20, 10, 5, 0.3) 0%, transparent 60%),
    radial-gradient(ellipse 20px 40px at 50% 50%, rgba(25, 12, 6, 0.2) 0%, transparent 70%);

  /* Mask: ONLY show on the FRAME AREA (outer 28px padding) */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 28px;
}

/* AGED BRASS CORNER BRACKETS */
[data-skin="library"] .hud-frame__body::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  border-radius: inherit;

  /*
   * TARNISHED BRASS CORNER FITTINGS
   * Muted, aged look - warm olive-gold
   */
  background:
    /* Top-left (warmest) */
    linear-gradient(135deg,
      #A89040 0%,
      #8B7028 15%,
      #7A6020 28%,
      transparent 42%
    ),
    /* Top-right */
    linear-gradient(225deg,
      #8B7028 0%,
      #7A6020 15%,
      #685018 28%,
      transparent 42%
    ),
    /* Bottom-left */
    linear-gradient(45deg,
      #7A6020 0%,
      #685018 15%,
      #5A4810 28%,
      transparent 42%
    ),
    /* Bottom-right (darkest) */
    linear-gradient(315deg,
      #5A4810 0%,
      #4A3A10 15%,
      #3A2A08 28%,
      transparent 42%
    );
  background-size: 45px 45px;
  background-position: 0 0, 100% 0, 0 100%, 100% 100%;
  background-repeat: no-repeat;
}

[data-skin="library"] .hud-frame:hover .hud-frame__body {
  box-shadow:
    /* Content cavity */
    inset 0 6px 12px rgba(0, 0, 0, 0.55),
    inset 6px 0 10px rgba(0, 0, 0, 0.4),

    /* Aged brass fillet - slightly warmer on hover */
    inset 0 0 0 5px #1A1612,
    inset 0 0 0 7px #5A4818,
    inset 0 0 0 10px #9A8030,
    inset 0 0 0 12px #A89040,
    inset 7px 7px 0 5px rgba(170, 150, 70, 0.35),
    inset -6px -6px 0 5px rgba(40, 30, 10, 0.4),

    /* Mahogany - slightly warmer */
    inset 0 0 0 14px #3D2218,
    inset 0 0 0 18px #6B4438,
    inset 0 0 0 22px #7A5248,
    inset 0 0 0 28px #5A3830,
    inset 18px 18px 0 12px rgba(150, 100, 80, 0.25),
    inset -14px -14px 0 12px rgba(20, 10, 8, 0.35),

    /* Outer brass trim */
    0 0 0 1px #4A3A15,
    0 0 0 3px #9A8030,

    /* Soft warm shadows */
    5px 7px 14px rgba(30, 20, 15, 0.45),
    10px 14px 28px rgba(25, 15, 10, 0.35);
}

/* ============================================
   GLOW LAYER - AMBIENT GOLD (VERY SUBTLE)
   ============================================ */
[data-skin="library"] .hud-frame__glow {
  display: none;
}

/* ============================================
   HEADER - AGED BRASS NAMEPLATE
   Tarnished, warm brass with patina
   ============================================ */
[data-skin="library"] .hud-frame__header {
  margin: 0;
  padding: 0.6rem 1.5rem;
  border-radius: 2px;
  position: relative;
  z-index: 10;

  /*
   * AGED BRASS PLATE
   * Muted, warm tones - NOT bright/neon
   * Think: 100-year-old brass plaque
   */
  background: linear-gradient(
    180deg,
    #B8A050 0%,        /* Warm aged brass highlight */
    #A89040 10%,
    #987828 30%,
    #8B7028 50%,       /* Main aged brass */
    #7A6020 70%,
    #685018 85%,
    #4A3A10 100%       /* Tarnished edge */
  );

  /* Subtle aged bevel - not harsh */
  border-top: 2px solid #C8B060;
  border-left: 2px solid #B8A050;
  border-right: 2px solid #4A3A10;
  border-bottom: 2px solid #3A2A08;

  /* Engraved text */
  color: #2A2010;
  font-family: 'Cormorant Garamond', 'EB Garamond', 'Times New Roman', serif;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.18em;
  text-transform: uppercase;

  /* Subtle raised effect */
  box-shadow:
    inset 1px 1px 0 0 rgba(200, 180, 100, 0.25),
    inset -1px -1px 0 0 rgba(0, 0, 0, 0.2),
    2px 3px 6px rgba(0, 0, 0, 0.35),
    3px 5px 10px rgba(30, 20, 10, 0.25);
}

[data-skin="library"] .hud-frame__title-icon {
  color: var(--frame-plaque-text);
  opacity: 0.8;
  /* Icon also engraved */
  filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.4));
}

[data-skin="library"] .hud-frame__title-icon svg {
  width: 14px;
  height: 14px;
}

[data-skin="library"] .hud-frame__title {
  font-family: inherit;
  /* SKEUOMORPHIC: Engraved text - carved INTO the brass */
  /* Dark text + light shadow below = stamped inward effect */
  text-shadow: var(--lib-text-engraved);
}

/* ============================================
   CORNER ORNAMENTS - SKEUOMORPHIC BRASS BRACKETS
   Raised brass L-brackets with decorative screws
   ============================================ */
[data-skin="library"] .hud-frame__reticle {
  /* Hide default symbol */
  font-size: 0;
  color: transparent;

  /* L-bracket ornament base */
  width: 24px;
  height: 24px;
  background: transparent;
  border: none;
  box-shadow: none;

  /* Position at frame corners */
  opacity: 1;
}

/* L-bracket shape using pseudo-elements */
[data-skin="library"] .hud-frame__reticle::before,
[data-skin="library"] .hud-frame__reticle::after {
  content: '';
  position: absolute;
  /* SKEUOMORPHIC: Polished brass with brushed texture */
  background:
    var(--lib-texture-brass),
    linear-gradient(
      135deg,
      #F5E7A3 0%,
      #D4AF37 30%,
      #C9A227 60%,
      #8B6914 100%
    );
  background-blend-mode: overlay, normal;

  /* 3D bevel effect */
  box-shadow:
    /* Top-left highlight */
    inset 1px 1px 0 0 rgba(255, 255, 255, 0.5),
    /* Bottom-right shadow */
    inset -1px -1px 0 0 rgba(0, 0, 0, 0.4),
    /* Drop shadow */
    0 2px 3px rgba(0, 0, 0, 0.3);

  border-radius: 1px;
}

/* Horizontal arm of L */
[data-skin="library"] .hud-frame__reticle::before {
  width: 18px;
  height: 5px;
}

/* Vertical arm of L */
[data-skin="library"] .hud-frame__reticle::after {
  width: 5px;
  height: 18px;
}

/* Top-left corner: L opens down-right */
[data-skin="library"] .hud-frame__reticle--tl {
  top: 3px;
  left: 3px;
}
[data-skin="library"] .hud-frame__reticle--tl::before {
  top: 0;
  left: 0;
}
[data-skin="library"] .hud-frame__reticle--tl::after {
  top: 0;
  left: 0;
}

/* Top-right corner: L opens down-left */
[data-skin="library"] .hud-frame__reticle--tr {
  top: 3px;
  right: 3px;
}
[data-skin="library"] .hud-frame__reticle--tr::before {
  top: 0;
  right: 0;
}
[data-skin="library"] .hud-frame__reticle--tr::after {
  top: 0;
  right: 0;
}

/* Bottom-left corner: L opens up-right */
[data-skin="library"] .hud-frame__reticle--bl {
  bottom: 3px;
  left: 3px;
}
[data-skin="library"] .hud-frame__reticle--bl::before {
  bottom: 0;
  left: 0;
}
[data-skin="library"] .hud-frame__reticle--bl::after {
  bottom: 0;
  left: 0;
}

/* Bottom-right corner: L opens up-left */
[data-skin="library"] .hud-frame__reticle--br {
  bottom: 3px;
  right: 3px;
}
[data-skin="library"] .hud-frame__reticle--br::before {
  bottom: 0;
  right: 0;
}
[data-skin="library"] .hud-frame__reticle--br::after {
  bottom: 0;
  right: 0;
}

/* Show all corner ornaments regardless of header */
[data-skin="library"] .hud-frame:not(.hud-frame--no-header) .hud-frame__reticle--tl {
  display: flex;
}

/* Hover: brass catches light - brighter highlights */
[data-skin="library"] .hud-frame:hover .hud-frame__reticle::before,
[data-skin="library"] .hud-frame:hover .hud-frame__reticle::after {
  background:
    var(--lib-texture-brass),
    linear-gradient(
      135deg,
      #FFF5D4 0%,
      #E8D5A3 30%,
      #D4AF37 60%,
      #A08020 100%
    );
  background-blend-mode: overlay, normal;
  box-shadow:
    inset 1px 1px 0 0 rgba(255, 255, 255, 0.6),
    inset -1px -1px 0 0 rgba(0, 0, 0, 0.35),
    0 2px 4px rgba(0, 0, 0, 0.35),
    0 0 10px rgba(201, 162, 39, 0.25);
}

/* ============================================
   SCAN OVERLAY - HIDDEN
   ============================================ */
[data-skin="library"] .hud-frame__scan,
[data-skin="library"] .hud-frame__scan::before,
[data-skin="library"] .hud-frame__scan::after {
  display: none;
}

/* ============================================
   CONTENT AREA - RECESSED DISPLAY CAVITY
   Dark velvet-lined interior with glass cover
   ============================================ */
[data-skin="library"] .hud-frame__content {
  /* Content sits inside the frame padding */
  margin: 0;
  padding: 1.25rem;
  border-radius: 3px;
  position: relative;
  overflow: hidden;
  z-index: 5;

  /*
   * DARK VELVET INTERIOR
   * Rich, dark backing like museum display case
   */
  background:
    /* Subtle velvet texture */
    var(--lib-texture-velvet),
    /* Base dark color */
    var(--frame-canvas);
  background-blend-mode: soft-light, normal;

  /*
   * DRAMATIC RECESSED CAVITY
   * Content area is INSET into the frame
   */
  box-shadow:
    /* Deep top shadow - frame blocking light */
    inset 0 6px 14px rgba(0, 0, 0, 0.6),
    /* Left shadow */
    inset 6px 0 10px rgba(0, 0, 0, 0.45),
    /* Subtle bottom/right highlights (light bouncing in) */
    inset 0 -3px 6px rgba(255, 255, 255, 0.025),
    inset -3px 0 6px rgba(255, 255, 255, 0.02),
    /* Brass edge trim around content */
    inset 0 0 0 2px rgba(139, 105, 20, 0.4),
    inset 0 0 0 3px rgba(201, 162, 39, 0.2),
    /* Ambient gold glow from brass */
    inset 0 0 40px rgba(201, 162, 39, 0.05);

  /* Light text on dark background */
  color: var(--lib-ink);
}

/* GLASS COVER EFFECT - curved glass dome reflection */
[data-skin="library"] .hud-frame__content::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  border-radius: inherit;

  /* Glass dome with visible reflection */
  background: linear-gradient(
    155deg,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.05) 15%,
    rgba(255, 255, 255, 0.02) 30%,
    transparent 50%,
    rgba(0, 0, 0, 0.02) 70%,
    rgba(0, 0, 0, 0.05) 100%
  );

  /* Glass edge highlights */
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.08),
    inset 1px 0 0 rgba(255, 255, 255, 0.05),
    inset -1px 0 0 rgba(0, 0, 0, 0.05);
}

/* Adjust content when header is present */
[data-skin="library"] .hud-frame:not(.hud-frame--no-header) .hud-frame__content {
  margin-top: 0.875rem;
}

/* ============================================
   SIZE VARIANTS
   ============================================ */
[data-skin="library"] .hud-frame--compact .hud-frame__body {
  padding: 22px;
}

[data-skin="library"] .hud-frame--compact .hud-frame__header {
  padding: 0.4rem 1rem;
  font-size: 0.7rem;
}

[data-skin="library"] .hud-frame--compact .hud-frame__content {
  padding: 0.875rem;
}

[data-skin="library"] .hud-frame--compact .hud-frame:not(.hud-frame--no-header) .hud-frame__content {
  margin-top: 0.625rem;
}

[data-skin="library"] .hud-frame--spacious .hud-frame__body {
  padding: 36px;
}

[data-skin="library"] .hud-frame--spacious .hud-frame__header {
  padding: 0.75rem 2rem;
  font-size: 0.85rem;
}

[data-skin="library"] .hud-frame--spacious .hud-frame__content {
  padding: 1.5rem;
}

[data-skin="library"] .hud-frame--spacious .hud-frame:not(.hud-frame--no-header) .hud-frame__content {
  margin-top: 1rem;
}

/* ============================================
   LOADING STATE
   ============================================ */
[data-skin="library"] .hud-frame--loading .hud-frame__body {
  --lib-pulse-min: 0.85;
  --lib-pulse-max: 1;
  animation: lib-pulse 2.5s ease-in-out infinite;
}

/* ============================================
   VARIANT STATES - PLAQUE COLOR CHANGES
   ============================================ */
/* Alert: Aged/darkened plaque */
[data-skin="library"] .hud-frame--alert .hud-frame__header {
  background: linear-gradient(
    180deg,
    #8B4040 0%,
    #6B2A2A 30%,
    #4A1A1A 100%
  );
  color: var(--lib-cream);
  border-color: #4A1A1A;
}

[data-skin="library"] .hud-frame--alert .hud-frame__title-icon {
  color: var(--lib-cream);
}

/* Warning: Amber brass */
[data-skin="library"] .hud-frame--warning .hud-frame__header {
  background: linear-gradient(
    180deg,
    #D4A030 0%,
    #B8860B 30%,
    #8B6914 100%
  );
}

/* Success: Verdigris patina */
[data-skin="library"] .hud-frame--success .hud-frame__header {
  background: linear-gradient(
    180deg,
    #4A7C59 0%,
    #3D6B4A 30%,
    #2D4A3A 100%
  );
  color: var(--lib-cream);
  border-color: #2D4A3A;
}

[data-skin="library"] .hud-frame--success .hud-frame__title-icon {
  color: var(--lib-cream);
}

/* ============================================
   REDUCED MOTION
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  [data-skin="library"] .hud-frame,
  [data-skin="library"] .hud-frame__body,
  [data-skin="library"] .hud-frame__reticle::before,
  [data-skin="library"] .hud-frame__reticle::after {
    transition: none;
  }

  [data-skin="library"] .hud-frame--loading .hud-frame__body {
    animation: none;
    opacity: 0.9;
  }
}

/* ============================================
   RESPONSIVE - TIGHTER FRAME ON NARROW SCREENS
   ============================================ */
@media (max-width: 400px) {
  [data-skin="library"] .hud-frame__body {
    /* Thinner frame on mobile */
    padding: 18px;

    /* Simplified but still visible 3D layers */
    box-shadow:
      /* Content cavity */
      inset 0 4px 8px rgba(0, 0, 0, 0.6),
      inset 4px 0 6px rgba(0, 0, 0, 0.4),

      /* Brass fillet */
      inset 0 0 0 4px #1A1612,
      inset 0 0 0 6px #8B6914,
      inset 0 0 0 8px #C9A227,
      inset 6px 6px 0 4px rgba(245, 231, 163, 0.5),
      inset -6px -6px 0 4px rgba(60, 45, 10, 0.6),

      /* Wood frame */
      inset 0 0 0 10px #2E1A18,
      inset 0 0 0 14px #4A2C2A,
      inset 0 0 0 18px #3D2420,
      inset 14px 14px 0 10px rgba(180, 120, 100, 0.3),
      inset -12px -12px 0 10px rgba(0, 0, 0, 0.5),

      /* Outer brass */
      0 0 0 2px #5C4A10,
      0 0 0 3px #C9A227,

      /* Drop shadow */
      4px 6px 12px rgba(0, 0, 0, 0.5);
  }

  [data-skin="library"] .hud-frame__body::before {
    /* Match thinner frame */
    padding: 18px;
  }

  [data-skin="library"] .hud-frame__body::after {
    /* Smaller corner accents */
    background-size: 40px 40px;
  }

  [data-skin="library"] .hud-frame__header {
    padding: 0.4rem 0.875rem;
    font-size: 0.65rem;
    border-width: 2px;
  }

  [data-skin="library"] .hud-frame__content {
    padding: 0.875rem;
  }

  [data-skin="library"] .hud-frame__reticle {
    width: 18px;
    height: 18px;
  }

  [data-skin="library"] .hud-frame__reticle::before {
    width: 14px;
    height: 4px;
  }

  [data-skin="library"] .hud-frame__reticle::after {
    width: 4px;
    height: 14px;
  }
}
